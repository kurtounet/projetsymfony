{% extends 'base.html.twig' %}

{% block title %}Hello IndexController!{% endblock %}

{% block body %}
{% if hero != null %}
<div class="flex flex-col lg:flex-row justify-center items-center lg:items-start lg:space-x-10 p-6">
    {# Character Details Section #}
    <div class="bg-gray-400 rounded-lg p-5 w-full lg:w-2/3 flex flex-col lg:flex-row items-center lg:items-start space-y-5 lg:space-y-0 lg:space-x-10">
        <img class="object-contain rounded-lg w-64 lg:w-80" src="{{ path_images_characters ~ hero.image }}" alt="{{ hero.name }}">
        <div class="flex flex-col space-y-2">
            <h1 class="text-red-500 text-4xl text-center font-semibold">{{ hero.name }}</h1>  
            <p class="text-lg font-semibold">Plan√®te : {{ planet.name }}</p>
            <p class="text-lg font-semibold">Ki : {{ hero.ki }}</p>
            <p class="text-lg font-semibold">Max KI : {{ hero.maxKi }}</p>
            <p class="text-lg font-semibold">Race : {{ hero.race }}</p>
            <p class="text-lg font-semibold">Genre : {{ hero.gender }}</p>
            <p class="text-lg font-semibold">Description : {{ hero.description }}</p>
            <p class="text-lg font-semibold">Affiliation : {{ hero.affiliation }}</p> 
            {% if transformations != null %}
                <p class="text-lg font-semibold">Transformations :</p>
                <ul class="flex flex-wrap justify-center lg:justify-start space-x-2">
                    {% for transformation in transformations %}
                        <li class="text-center space-y-1">
                            <img class="object-contain rounded-lg w-32 h-32" src="{{ path_images_transformations ~ transformation.image }}" alt="{{ transformation.name }}">
                            <p class="text-lg font-semibold text-black">{{ transformation.name }}</p>
                        </li>
                    {% endfor %}
                </ul> 
            {% endif %}
        </div>
    </div>
    
    {# User Preferences Section #}
    <div class="bg-gray-500 rounded-lg p-2 w-16 lg:w-1/3 flex flex-col items-center space-y-2">
        {% if userPreferences != null %}    
            <p class="text-lg font-semibold">Utilisateur qui aime aussi {{ hero.name }}</p>
            <ul class="flex flex-col items-center space-y-2">
                {% for user in userPreferences %}
                    <li class="text-center space-y-1">
                        <img class="object-contain rounded-lg w-24 h-24" src="{{ path_images_avatars ~ user.avatar }}" alt="{{ user.firstname }}">
                        <p class="text-lg font-semibold text-black">{{ user.firstname }} {{ user.lastname }}</p>
                    </li>
                {% endfor %}
            </ul> 
        {% endif %}
    </div>
</div>
{% else %}
<div class="flex justify-center bg-gray-200 m-2 p-4 rounded-lg">
    <p class="text-lg font-semibold">Ce personnage n'existe pas</p>        
</div>
{% endif %}
{% endblock %}
